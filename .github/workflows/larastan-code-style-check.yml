name: Static Analysis

on: [push, pull_request]

jobs:
    tests:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4

            - name: Setup
              uses: ./.github/actions/setup
              with:
                php-version: 8.3
                php-extensions: dom, curl, libxml, mbstring, zip, fileinfo

            - name: Install Composer
              run: composer install -n --prefer-dist

            - name: Run Larastan
              run: ./vendor/bin/phpstan analyse
